$(document).ready(function(){var e=$("#image"),a=$("#image-preview",e),i=$("#image-loading",e),s=$("#image-edit",e),n=$("#image-edit-change",s),t=$("form",s),g=$("#image-edit-file",t);n.on("click",function(e){e.preventDefault(),g.trigger("click")}),g.on("change",function(){t.submit()}),t.on("submit",function(e){e.preventDefault();var n=$(this),t=n.attr("action"),d=g.prop("files"),c="undefined"!=typeof t?t:"/ajax/recipe-image";if(d.length){d=d[0];var m=["image/gif","image/jpeg","image/jpg","image/png"];-1!=$.inArray(d.type,m)&&(i.removeClass("hidden-xs-up"),$.ajax({url:c,type:"POST",dataType:"json",data:new FormData(this),contentType:!1,cache:!1,processData:!1,success:function(e){"undefined"!=typeof e.success&&null!==e.success&&(e.success?"undefined"!=typeof e.image&&null!==e.image&&(a.attr("src",e.image).addClass("loaded"),$("span.image-edit__add",s).text("Update"),alertMessage("success",e.message)):"undefined"!=typeof e.message&&null!==e.message&&alertMessage("danger",e.message)),i.addClass("hidden-xs-up")}}))}})});
//# sourceMappingURL=./image-upload-min.js.map